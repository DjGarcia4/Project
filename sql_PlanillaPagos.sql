CREATE DATABASE  IF NOT EXISTS `sistema_planilla` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
USE `sistema_planilla`;
-- MySQL dump 10.13  Distrib 8.0.29, for Win64 (x86_64)
--
-- Host: localhost    Database: sistema_planilla
-- ------------------------------------------------------
-- Server version	8.0.29

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `bitacora`
--

DROP TABLE IF EXISTS `bitacora`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `bitacora` (
  `idBitacora` int NOT NULL AUTO_INCREMENT,
  `Usuario_idUsuario` int NOT NULL,
  `idTabla` int NOT NULL,
  `accion` varchar(45) NOT NULL,
  `horaFecha_accion` datetime NOT NULL,
  PRIMARY KEY (`idBitacora`),
  KEY `FK_bitacora_Usuarios` (`Usuario_idUsuario`),
  KEY `FK_bitacora_Tablas` (`idTabla`),
  CONSTRAINT `FK_bitacora_Tablas` FOREIGN KEY (`idTabla`) REFERENCES `tablas` (`idTabla`),
  CONSTRAINT `FK_bitacora_Usuarios` FOREIGN KEY (`Usuario_idUsuario`) REFERENCES `usuarios` (`idUsuario`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `bitacora`
--

LOCK TABLES `bitacora` WRITE;
/*!40000 ALTER TABLE `bitacora` DISABLE KEYS */;
/*!40000 ALTER TABLE `bitacora` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `cargos`
--

DROP TABLE IF EXISTS `cargos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `cargos` (
  `idCargo` int NOT NULL AUTO_INCREMENT,
  `DescripcionCargo` varchar(45) NOT NULL,
  `Salario` int NOT NULL,
  `Departamentos_idDepartamentos` int NOT NULL,
  `Estados_idEstado` int NOT NULL,
  PRIMARY KEY (`idCargo`),
  KEY `fk_Cargos_Departamentos1_idx` (`Departamentos_idDepartamentos`),
  CONSTRAINT `fk_Cargos_Departamentos1` FOREIGN KEY (`Departamentos_idDepartamentos`) REFERENCES `departamentos` (`idDepartamentos`)
) ENGINE=InnoDB AUTO_INCREMENT=28 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `cargos`
--

LOCK TABLES `cargos` WRITE;
/*!40000 ALTER TABLE `cargos` DISABLE KEYS */;
INSERT INTO `cargos` VALUES (1,'VENDEDOR',8000,1,1),(2,'JEFE DE BODEGA',5000,2,1),(3,'RECEPCIONISTA',8000,3,1),(4,'ASESOR FINANCIERO',10000,4,1),(5,'EXPEDITOR',8000,5,1),(6,'DIRECTOR DE RECURSOS HUMANOS',21000,6,1),(7,'GERENTE GENERAL',65000,7,1),(8,'AUDITOR DE SISTEMAS',15000,8,1),(9,'DIRECTOR DE PLANTA',28000,9,1),(10,'SUPERVISOR DE VENTAS',20000,1,1),(11,'CARGUERO',8000,2,1),(12,'SUPERVISOR DE ATENCION AL CLIENTE',18000,3,1),(13,'ASESOR FISCAL',15000,4,1),(14,'DESARROLLADOR DE PROVEEDORES',24000,5,1),(15,'TECNICO DE SELECCION DE PERSONAL',23000,6,1),(16,'SUBGERENTE ADMINISTRATIVO',45000,7,1),(17,'ADMINISTRADOR DE BASE DE DATOS',20000,8,1),(18,'SUPERVISOR DE PLANTA',22000,9,1),(19,'GERENTE DE VENTAS',36000,1,1),(20,'DESPACHADOR',10000,2,1),(21,'TELEVENDEDOR',18000,3,1),(22,'ANALISTA',15000,4,1),(23,'LIDER DE COMPRAS',20000,5,1),(24,'RECLUTADOR',15000,6,1),(25,'ANALISTA DE CALIDAD',12000,7,1),(26,'DESARROLLADOR',15000,8,1),(27,'OPERARIOS',22000,9,1);
/*!40000 ALTER TABLE `cargos` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ciudades`
--

DROP TABLE IF EXISTS `ciudades`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ciudades` (
  `idCiudades` int NOT NULL AUTO_INCREMENT,
  `DescripcionCiudad` varchar(45) NOT NULL,
  `Estados_idEstado` int NOT NULL,
  PRIMARY KEY (`idCiudades`),
  UNIQUE KEY `DescripcionCiudad` (`DescripcionCiudad`)
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ciudades`
--

LOCK TABLES `ciudades` WRITE;
/*!40000 ALTER TABLE `ciudades` DISABLE KEYS */;
INSERT INTO `ciudades` VALUES (1,'TEGUCIGALPA',1),(2,'CHOLUTECA',1),(3,'SAN PEDRO SULA',1),(4,'COMAYAGUA',1),(5,'LA CEIBA',1),(6,'EL PROGRESO',1),(7,'CHOLOMA',1),(8,'TELA',1),(9,'DANLI',1),(10,'SANTA ROSA DE COPAN',1),(11,'SIGUATEPEQUE',1),(12,'OLANCHITO',1),(13,'LA PAZ',1);
/*!40000 ALTER TABLE `ciudades` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `departamentos`
--

DROP TABLE IF EXISTS `departamentos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `departamentos` (
  `idDepartamentos` int NOT NULL AUTO_INCREMENT,
  `DescripcionDepto` varchar(45) NOT NULL,
  `Estados_idEstado` int NOT NULL,
  PRIMARY KEY (`idDepartamentos`)
) ENGINE=InnoDB AUTO_INCREMENT=28 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `departamentos`
--

LOCK TABLES `departamentos` WRITE;
/*!40000 ALTER TABLE `departamentos` DISABLE KEYS */;
INSERT INTO `departamentos` VALUES (1,'VENTAS',1),(2,'BODEGA',1),(3,'ATENCION AL CLIENTE',1),(4,'FINANCIERO',1),(5,'COMPRAS',1),(6,'RECURSOS HUMANOS',1),(7,'ADMINISTRATIVO',1),(8,'IT',1),(9,'PRODUCCION',1);
/*!40000 ALTER TABLE `departamentos` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `detalleplanillas`
--

DROP TABLE IF EXISTS `detalleplanillas`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `detalleplanillas` (
  `Planillas_idPlanilla` int NOT NULL,
  `Empleados_idEmpleados` int NOT NULL,
  `Salario_Base` decimal(20,6) NOT NULL,
  `IHSS` decimal(20,6) NOT NULL,
  `RAP` decimal(20,6) NOT NULL,
  `ISR` decimal(20,6) NOT NULL,
  `Total_Deducciones` decimal(20,6) NOT NULL,
  `14vo` decimal(20,6) NOT NULL,
  `13vo` decimal(20,6) NOT NULL,
  `Total_Bonificaciones` decimal(20,6) NOT NULL,
  `Sueldo_Neto` decimal(20,6) NOT NULL,
  PRIMARY KEY (`Planillas_idPlanilla`,`Empleados_idEmpleados`),
  KEY `fk_DetallePlanillas_Empleados1` (`Empleados_idEmpleados`),
  CONSTRAINT `fk_DetallePlanillas_Empleados1` FOREIGN KEY (`Empleados_idEmpleados`) REFERENCES `empleados` (`idEmpleados`),
  CONSTRAINT `fk_DetallePlanillas_Planillas` FOREIGN KEY (`Planillas_idPlanilla`) REFERENCES `planillas` (`idPlanillas`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `detalleplanillas`
--

LOCK TABLES `detalleplanillas` WRITE;
/*!40000 ALTER TABLE `detalleplanillas` DISABLE KEYS */;
INSERT INTO `detalleplanillas` VALUES (66,10,24000.000000,492.490000,360.000000,1211.850000,2064.340000,0.000000,45935.660000,45935.660000,21935.660000),(66,11,23000.000000,492.490000,345.000000,1058.440000,1895.930000,0.000000,44104.070000,44104.070000,21104.070000),(66,12,36000.000000,492.490000,540.000000,3575.850000,4608.340000,0.000000,0.000000,0.000000,31391.660000),(66,13,10000.000000,492.490000,150.000000,0.000000,642.490000,0.000000,0.000000,0.000000,9357.510000),(66,14,10000.000000,492.490000,150.000000,0.000000,642.490000,0.000000,0.000000,0.000000,9357.510000),(66,15,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(66,17,10000.000000,492.490000,150.000000,0.000000,642.490000,0.000000,0.000000,0.000000,9357.510000),(66,18,20000.000000,492.490000,300.000000,615.190000,1407.680000,0.000000,38592.320000,38592.320000,18592.320000),(66,24,15000.000000,492.490000,225.000000,0.000000,717.490000,0.000000,29282.510000,29282.510000,14282.510000),(66,25,15000.000000,492.490000,225.000000,0.000000,717.490000,0.000000,29282.510000,29282.510000,14282.510000),(66,26,20000.000000,492.490000,300.000000,615.190000,1407.680000,0.000000,38592.320000,38592.320000,18592.320000),(66,27,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,15480.000000,15480.000000,7480.000000),(66,34,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,15480.000000,15480.000000,7480.000000),(66,37,5000.000000,250.000000,75.000000,0.000000,325.000000,0.000000,9675.000000,9675.000000,4675.000000),(66,39,5000.000000,250.000000,75.000000,0.000000,325.000000,0.000000,9675.000000,9675.000000,4675.000000),(66,40,15000.000000,492.490000,225.000000,0.000000,717.490000,0.000000,29282.510000,29282.510000,14282.510000),(66,41,21000.000000,492.490000,315.000000,762.940000,1570.430000,0.000000,40429.570000,40429.570000,19429.570000),(66,42,5000.000000,250.000000,75.000000,0.000000,325.000000,0.000000,9675.000000,9675.000000,4675.000000),(66,43,5000.000000,250.000000,75.000000,0.000000,325.000000,0.000000,9675.000000,9675.000000,4675.000000),(66,44,24000.000000,492.490000,360.000000,1211.850000,2064.340000,0.000000,0.000000,0.000000,21935.660000),(66,45,28000.000000,492.490000,420.000000,1999.850000,2912.340000,0.000000,0.000000,0.000000,25087.660000),(66,46,5000.000000,250.000000,75.000000,0.000000,325.000000,0.000000,9675.000000,9675.000000,4675.000000),(66,47,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,15480.000000,15480.000000,7480.000000),(66,48,18000.000000,492.490000,270.000000,319.690000,1082.180000,0.000000,0.000000,0.000000,16917.820000),(66,49,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,15480.000000,15480.000000,7480.000000),(66,50,10000.000000,492.490000,150.000000,0.000000,642.490000,0.000000,19357.510000,19357.510000,9357.510000),(66,53,20000.000000,492.490000,300.000000,615.190000,1407.680000,0.000000,38592.320000,38592.320000,18592.320000),(66,54,21000.000000,492.490000,315.000000,762.940000,1570.430000,0.000000,40429.570000,40429.570000,19429.570000),(66,55,15000.000000,492.490000,225.000000,0.000000,717.490000,0.000000,29282.510000,29282.510000,14282.510000),(66,56,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,15480.000000,15480.000000,7480.000000),(66,57,10000.000000,492.490000,150.000000,0.000000,642.490000,0.000000,19357.510000,19357.510000,9357.510000),(66,58,24000.000000,492.490000,360.000000,1211.850000,2064.340000,0.000000,45935.660000,45935.660000,21935.660000),(66,59,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(66,60,18000.000000,492.490000,270.000000,319.690000,1082.180000,0.000000,34917.820000,34917.820000,16917.820000),(66,61,65000.000000,492.490000,975.000000,9787.070000,11254.560000,0.000000,118745.440000,118745.440000,53745.440000),(66,62,22000.000000,492.490000,330.000000,910.690000,1733.180000,0.000000,42266.820000,42266.820000,20266.820000),(66,63,22000.000000,492.490000,330.000000,910.690000,1733.180000,0.000000,42266.820000,42266.820000,20266.820000),(66,64,65000.000000,492.490000,975.000000,9787.070000,11254.560000,0.000000,118745.440000,118745.440000,53745.440000),(66,65,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(66,66,65000.000000,492.490000,975.000000,9787.070000,11254.560000,0.000000,0.000000,0.000000,53745.440000),(66,67,5000.000000,250.000000,75.000000,0.000000,325.000000,0.000000,9675.000000,9675.000000,4675.000000),(66,68,5000.000000,250.000000,75.000000,0.000000,325.000000,0.000000,9675.000000,9675.000000,4675.000000),(66,69,10000.000000,492.490000,150.000000,0.000000,642.490000,0.000000,19357.510000,19357.510000,9357.510000),(66,70,65000.000000,492.490000,975.000000,9787.070000,11254.560000,0.000000,0.000000,0.000000,53745.440000),(66,71,36000.000000,492.490000,540.000000,3575.850000,4608.340000,0.000000,67391.660000,67391.660000,31391.660000),(66,72,18000.000000,492.490000,270.000000,319.690000,1082.180000,0.000000,34917.820000,34917.820000,16917.820000),(66,73,45000.000000,492.490000,675.000000,5348.850000,6516.340000,0.000000,0.000000,0.000000,38483.660000),(66,74,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,15480.000000,15480.000000,7480.000000),(66,75,10000.000000,492.490000,150.000000,0.000000,642.490000,0.000000,19357.510000,19357.510000,9357.510000),(66,76,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,15480.000000,15480.000000,7480.000000),(66,77,15000.000000,492.490000,225.000000,0.000000,717.490000,0.000000,29282.510000,29282.510000,14282.510000),(66,78,15000.000000,492.490000,225.000000,0.000000,717.490000,0.000000,29282.510000,29282.510000,14282.510000),(66,79,20000.000000,492.490000,300.000000,615.190000,1407.680000,0.000000,0.000000,0.000000,18592.320000),(66,80,28000.000000,492.490000,420.000000,1999.850000,2912.340000,0.000000,0.000000,0.000000,25087.660000),(66,81,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,15480.000000,15480.000000,7480.000000),(66,82,20000.000000,492.490000,300.000000,615.190000,1407.680000,0.000000,38592.320000,38592.320000,18592.320000),(66,83,10000.000000,492.490000,150.000000,0.000000,642.490000,0.000000,19357.510000,19357.510000,9357.510000),(66,85,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(67,10,24000.000000,492.490000,360.000000,1211.850000,2064.340000,0.000000,0.000000,0.000000,21935.660000),(67,11,23000.000000,492.490000,345.000000,1058.440000,1895.930000,0.000000,0.000000,0.000000,21104.070000),(67,12,36000.000000,492.490000,540.000000,3575.850000,4608.340000,0.000000,0.000000,0.000000,31391.660000),(67,13,10000.000000,492.490000,150.000000,0.000000,642.490000,0.000000,0.000000,0.000000,9357.510000),(67,14,10000.000000,492.490000,150.000000,0.000000,642.490000,0.000000,0.000000,0.000000,9357.510000),(67,15,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(67,17,10000.000000,492.490000,150.000000,0.000000,642.490000,0.000000,0.000000,0.000000,9357.510000),(67,18,20000.000000,492.490000,300.000000,615.190000,1407.680000,0.000000,0.000000,0.000000,18592.320000),(67,24,15000.000000,492.490000,225.000000,0.000000,717.490000,0.000000,0.000000,0.000000,14282.510000),(67,25,15000.000000,492.490000,225.000000,0.000000,717.490000,0.000000,0.000000,0.000000,14282.510000),(67,26,20000.000000,492.490000,300.000000,615.190000,1407.680000,0.000000,0.000000,0.000000,18592.320000),(67,27,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(67,34,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(67,37,5000.000000,250.000000,75.000000,0.000000,325.000000,0.000000,0.000000,0.000000,4675.000000),(67,39,5000.000000,250.000000,75.000000,0.000000,325.000000,0.000000,0.000000,0.000000,4675.000000),(67,40,15000.000000,492.490000,225.000000,0.000000,717.490000,0.000000,0.000000,0.000000,14282.510000),(67,41,21000.000000,492.490000,315.000000,762.940000,1570.430000,0.000000,0.000000,0.000000,19429.570000),(67,42,5000.000000,250.000000,75.000000,0.000000,325.000000,0.000000,0.000000,0.000000,4675.000000),(67,43,5000.000000,250.000000,75.000000,0.000000,325.000000,0.000000,0.000000,0.000000,4675.000000),(67,44,24000.000000,492.490000,360.000000,1211.850000,2064.340000,0.000000,0.000000,0.000000,21935.660000),(67,45,28000.000000,492.490000,420.000000,1999.850000,2912.340000,0.000000,0.000000,0.000000,25087.660000),(67,46,5000.000000,250.000000,75.000000,0.000000,325.000000,0.000000,0.000000,0.000000,4675.000000),(67,47,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(67,48,18000.000000,492.490000,270.000000,319.690000,1082.180000,0.000000,0.000000,0.000000,16917.820000),(67,49,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(67,50,10000.000000,492.490000,150.000000,0.000000,642.490000,0.000000,0.000000,0.000000,9357.510000),(67,53,20000.000000,492.490000,300.000000,615.190000,1407.680000,0.000000,0.000000,0.000000,18592.320000),(67,54,21000.000000,492.490000,315.000000,762.940000,1570.430000,0.000000,0.000000,0.000000,19429.570000),(67,55,15000.000000,492.490000,225.000000,0.000000,717.490000,0.000000,0.000000,0.000000,14282.510000),(67,56,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(67,57,10000.000000,492.490000,150.000000,0.000000,642.490000,0.000000,0.000000,0.000000,9357.510000),(67,58,24000.000000,492.490000,360.000000,1211.850000,2064.340000,0.000000,0.000000,0.000000,21935.660000),(67,59,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(67,60,18000.000000,492.490000,270.000000,319.690000,1082.180000,0.000000,0.000000,0.000000,16917.820000),(67,61,65000.000000,492.490000,975.000000,9787.070000,11254.560000,0.000000,0.000000,0.000000,53745.440000),(67,62,22000.000000,492.490000,330.000000,910.690000,1733.180000,0.000000,0.000000,0.000000,20266.820000),(67,63,22000.000000,492.490000,330.000000,910.690000,1733.180000,0.000000,0.000000,0.000000,20266.820000),(67,64,65000.000000,492.490000,975.000000,9787.070000,11254.560000,0.000000,0.000000,0.000000,53745.440000),(67,65,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(67,66,65000.000000,492.490000,975.000000,9787.070000,11254.560000,0.000000,0.000000,0.000000,53745.440000),(67,67,5000.000000,250.000000,75.000000,0.000000,325.000000,0.000000,0.000000,0.000000,4675.000000),(67,68,5000.000000,250.000000,75.000000,0.000000,325.000000,0.000000,0.000000,0.000000,4675.000000),(67,69,10000.000000,492.490000,150.000000,0.000000,642.490000,0.000000,0.000000,0.000000,9357.510000),(67,70,65000.000000,492.490000,975.000000,9787.070000,11254.560000,0.000000,0.000000,0.000000,53745.440000),(67,71,36000.000000,492.490000,540.000000,3575.850000,4608.340000,0.000000,0.000000,0.000000,31391.660000),(67,72,18000.000000,492.490000,270.000000,319.690000,1082.180000,0.000000,0.000000,0.000000,16917.820000),(67,73,45000.000000,492.490000,675.000000,5348.850000,6516.340000,0.000000,0.000000,0.000000,38483.660000),(67,74,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(67,75,10000.000000,492.490000,150.000000,0.000000,642.490000,0.000000,0.000000,0.000000,9357.510000),(67,76,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(67,77,15000.000000,492.490000,225.000000,0.000000,717.490000,0.000000,0.000000,0.000000,14282.510000),(67,78,15000.000000,492.490000,225.000000,0.000000,717.490000,0.000000,0.000000,0.000000,14282.510000),(67,79,20000.000000,492.490000,300.000000,615.190000,1407.680000,0.000000,0.000000,0.000000,18592.320000),(67,80,28000.000000,492.490000,420.000000,1999.850000,2912.340000,0.000000,0.000000,0.000000,25087.660000),(67,81,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(67,82,20000.000000,492.490000,300.000000,615.190000,1407.680000,0.000000,0.000000,0.000000,18592.320000),(67,83,10000.000000,492.490000,150.000000,0.000000,642.490000,0.000000,0.000000,0.000000,9357.510000),(67,85,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(67,86,15000.000000,492.490000,225.000000,0.000000,717.490000,0.000000,0.000000,0.000000,14282.510000),(67,87,21000.000000,492.490000,315.000000,762.940000,1570.430000,0.000000,0.000000,0.000000,19429.570000),(67,88,15000.000000,492.490000,225.000000,0.000000,717.490000,0.000000,0.000000,0.000000,14282.510000),(67,89,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(67,90,21000.000000,492.490000,315.000000,762.940000,1570.430000,0.000000,0.000000,0.000000,19429.570000),(67,91,20000.000000,492.490000,300.000000,615.190000,1407.680000,0.000000,0.000000,0.000000,18592.320000),(67,92,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(67,93,10000.000000,492.490000,150.000000,0.000000,642.490000,0.000000,0.000000,0.000000,9357.510000),(67,94,20000.000000,492.490000,300.000000,615.190000,1407.680000,0.000000,0.000000,0.000000,18592.320000),(67,95,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000),(67,96,10000.000000,492.490000,150.000000,0.000000,642.490000,0.000000,0.000000,0.000000,9357.510000),(67,97,65000.000000,492.490000,975.000000,9787.070000,11254.560000,0.000000,0.000000,0.000000,53745.440000),(67,98,20000.000000,492.490000,300.000000,615.190000,1407.680000,0.000000,0.000000,0.000000,18592.320000),(67,100,36000.000000,492.490000,540.000000,3575.850000,4608.340000,0.000000,0.000000,0.000000,31391.660000),(67,102,8000.000000,400.000000,120.000000,0.000000,520.000000,0.000000,0.000000,0.000000,7480.000000);
/*!40000 ALTER TABLE `detalleplanillas` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `empleados`
--

DROP TABLE IF EXISTS `empleados`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `empleados` (
  `idEmpleados` int NOT NULL AUTO_INCREMENT,
  `Empresas_idEmpresas` int NOT NULL,
  `Cedula` varchar(15) NOT NULL,
  `PrimerNombre` varchar(45) NOT NULL,
  `SegundoNombre` varchar(45) NOT NULL,
  `PrimerApellido` varchar(45) NOT NULL,
  `SegundoApellido` varchar(45) DEFAULT NULL,
  `Telefono` varchar(10) NOT NULL,
  `Direccion` varchar(45) NOT NULL,
  `FechaNacimiento` date NOT NULL,
  `FechaIngreso` date NOT NULL,
  `CuentaBancaria` varchar(45) NOT NULL,
  `Sexos_idSexo` int NOT NULL,
  `Cargos_idCargos` int NOT NULL,
  `Estados_idEstado` int NOT NULL,
  `Correo` varchar(45) DEFAULT NULL,
  `Ciudades_idCiudades` int NOT NULL,
  PRIMARY KEY (`idEmpleados`),
  UNIQUE KEY `CuentaBancaria_UNIQUE` (`CuentaBancaria`),
  KEY `fk_Empleados_Sexos1_idx` (`Sexos_idSexo`),
  KEY `fk_Empleados_Estados1_idx` (`Estados_idEstado`),
  KEY `fk_Empleados_Ciudades1_idx` (`Ciudades_idCiudades`),
  KEY `fk_Empleados_Cargos1_idx` (`Cargos_idCargos`),
  KEY `fk_Empleados_Empresas1_idx` (`Empresas_idEmpresas`),
  CONSTRAINT `fk_Empleados_Cargos1` FOREIGN KEY (`Cargos_idCargos`) REFERENCES `cargos` (`idCargo`),
  CONSTRAINT `fk_Empleados_Ciudades1` FOREIGN KEY (`Ciudades_idCiudades`) REFERENCES `ciudades` (`idCiudades`),
  CONSTRAINT `fk_Empleados_Empresas1` FOREIGN KEY (`Empresas_idEmpresas`) REFERENCES `empresas` (`idEmpresa`),
  CONSTRAINT `fk_Empleados_Estados1` FOREIGN KEY (`Estados_idEstado`) REFERENCES `estados` (`idEstado`),
  CONSTRAINT `fk_Empleados_Sexos1` FOREIGN KEY (`Sexos_idSexo`) REFERENCES `sexos` (`idSexo`)
) ENGINE=InnoDB AUTO_INCREMENT=106 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `empleados`
--

LOCK TABLES `empleados` WRITE;
/*!40000 ALTER TABLE `empleados` DISABLE KEYS */;
INSERT INTO `empleados` VALUES (1,1,'0601200000109','ONAN','JASSEL','AGUILERA','ORDOÑEZ','89949308','EDIFICIO ROSANELO, APARTAMENTO-25','1999-07-20','2018-01-01','3411407208210422',1,1,1,'hasselaguilera@gmail.com',2),(2,1,'0606199900479','DELSIS','MARIA','LOPEZ','MONDRAGON','99769248','B. LA ESPERANZA, DEL CAMPO 3RA CASA','1999-01-31','2020-05-15','1651864165151802',2,10,1,'',2),(5,1,'0610198619004','MARVIN','FRANCISCO','AGUILERA','','56151656','B. LA LIBERTAD, UNA CUADRA DE INBAC','1986-11-01','2015-02-01','1547986235210419',1,7,1,'',1),(6,1,'0608199002016','IRENE','CECILIA','FLORES','MEZA','88153521','EDIFICIO BUENAVISTA, APARTAMENTO-14','1984-04-25','2005-06-08','5018473020298217',2,11,1,'',3),(7,1,'0609200005079','EMERSON','FERNANDO','ZAPATA','RIVAS','99401110','B. LOS MANGOS, AL LADO DE ESCUELA LA ALEGRIA','2002-06-03','2021-10-20','9951515613821904',1,25,1,'emerson.zapatarivas@gmail.com',1),(8,2,'0601199551409','CLAUDIA','MARIA','CARDENAS','MEGIA','98165468','B. LOS MANGLES-MEDIA CUADRA DE LA GASOLINERA','1989-12-04','2010-04-24','6415651651632024',2,20,2,'',5),(9,1,'0801200123122','DENIS','JARED','GARCIA','MALDONADO','87854736','COL. LOS ALMENDROS, ESQUINA OPUESTA A BANCO','2001-12-04','2022-03-05','5154896155121165',1,22,1,'denisjared286@gmail.com',1),(10,2,'0801200120175','DULCE','YAQUELIN','CHIRINOS','SANCHEZ','99861858','B. EL ESTRUENDO, CONTINUO A CARWASH','2001-05-20','2022-03-21','9846153258163130',2,14,1,'yaquelinchirinos2018@gmail.com',12),(11,2,'1201199800386','DIEGO','ISMAEL','MOLINA','FLORES','88038874','COL. EL CARRETO, FRENTE A PULPERIA ROSITA','1998-05-04','2019-09-28','6446518946546647',1,15,1,'dm6223860@gmail.com',13),(12,2,'0801200120176','EVELYN','YAQUELINE','SANCHEZ','VELIZ','99861858','COL. ROSALES','1999-06-30','2022-07-20','080898754',2,19,1,'yaquelin20@gmail.com',1),(13,2,'0801200120177','KATHIA','YARISSEL','POSAS','FAJARDO','99861858','COL. ROSALES','1998-02-28','2022-07-20','1234567890',2,20,1,'yarisel1@gmail.com',12),(14,2,'0801200120178','KAREN','VALERIA','VARGAS','FLORES','99861850','COL. ROSALES','2000-12-18','2022-07-20','1234567891',2,4,1,'karen5@gamil.com',12),(15,2,'0801200120179','ARLETT','PAULINA','NUÑEZ','GOMEZ','99861880','COL. ROSALES','1998-12-10','2022-07-20','12345678909',2,11,1,'pau20@gmail.com',9),(17,2,'0801200120156','PAVEL','','OCAMPO','','99861850','COL. ROSALES','2000-10-07','2022-07-20','092345678909',1,20,1,'lilu20@gmail.com',2),(18,2,'0801200120120','DULCELINA','','RAMOS','ULLOA','88768990','COL. ROSALES','1998-10-14','2020-08-06','09098765',2,23,1,'dul1@gmail.com',12),(24,2,'1807199700200','JUAN','PABLO','ISAZA','','88976754','COL. BELLA VISTA','1997-02-20','2017-02-09','909098790',1,26,1,'jpisaza1@gmail.com',11),(25,2,'1807199700202','JUAN','PABLO','VILLAMIL','','88976755','COL. BELLA VISTA','1997-08-08','2017-02-16','909098798',1,26,1,'jpisaza1@gmail.com',11),(26,2,'1807199700203','SIMON','','VARGAS','','88976756','COL. BELLA VISTA','1997-10-31','2017-06-21','909098799',1,17,1,'jpisaza1@gmail.com',1),(27,2,'1807199700204','MARTHIN','','VARGAS','','88976757','COL. BELLA VISTA','1997-06-04','2017-06-21','909098796',1,3,1,'jpisaza1@gmail.com',9),(34,2,'0801200120176','JUAN','PABLO','OCAMPO','','99861889','COL. ROSALES','1996-03-31','2017-10-18','1234567892',2,3,1,'karen5@gamil.com',12),(37,2,'0801200120189','EVELYN','VALERIA','RIVAS','','88874538','COL. ROSALES','1998-03-11','2017-02-21','1234567878',2,2,1,'lilu20@gmail.com',10),(39,2,'1807200120176','SUSANA','VALERIA','CALA','','99861800','COL. ROSALES','1999-02-25','2017-06-15','1234567123',2,2,1,'cala20@gmail.com',3),(40,2,'1807199800202','LILIANA','','ESCOBAR','','88874502','COL. ROSALES','1998-03-31','2017-07-21','1234567998',2,8,1,'lili2@gmail.com',3),(41,2,'1807199400202','VIVIANA','','GONZALES','','99999990','COL. ROSALES','1997-03-13','2017-06-15','12345670801',2,6,1,'vivi3@gmail.com',1),(42,2,'0801200130175','IRIS','','MEJIA','','99861123','COL. ROSALES','1997-06-30','2017-07-14','12345678912',2,2,1,'isis9@gmail.com',3),(43,2,'0801199900207','ARACELY','','RODRIGUEZ','','33875030','COL. ROSALES','1997-04-30','2017-06-08','339897653',1,2,1,'ara@gmail.com',3),(44,2,'1807200134567','LIDICE','','RODRIGUEZ','','99861851','COL. ROSALES','1998-10-21','2022-07-21','123896426',2,14,1,'lidice20@gmail.com',3),(45,2,'0801200123456','CARMEN','GUADALUPE','MENNI','','99000000','COL. ROSALES','2001-12-25','2022-07-21','987654321',2,9,1,'carmen3@gmail.com',1),(46,2,'0801200134175','HARRY','','STYLES','','99567812','COL. ROSALES','2001-10-21','2020-10-11','91827364',1,2,1,'yasu20@gmail.com',2),(47,2,'0801200156175','NIALL','JAMES','HORAN','','90919293','COL. ROSALES','2001-12-11','2020-06-17','818283848',1,3,1,'yarisel1@gmail.com',7),(48,2,'0801200131175','LIAM','OMAR','SANCHEZ','','99367656','COL. ROSALES','1998-06-30','2022-07-22','23456124',1,12,1,'liam5@gamil.com',8),(49,2,'0801200120165','ALICIA','MICHELLE','CASTRO','','88818789','COL. ROSALES','2001-12-07','2019-07-12','2021222324',2,5,1,'alimay@gamil.com',8),(50,2,'1807200120175','MAITE','ELIANA','RUIZ','','99653411','COL. ROSALES','2001-10-12','2019-02-22','313233345',2,4,1,'elimay@gamil.com',8),(51,2,'0801200120872','KATHERINE','','TORRES','','99861845','COL. ROSALES','1997-07-11','2019-06-22','090901090',2,4,2,'patyt@gamil.com',8),(53,2,'1807199900200','AMMY','ISABEL','ZAMBRANO','','99202122','COL. ROSALES','1997-02-28','2019-07-22','1234567833',2,17,1,'amyladelamochilaazul@gamil.com',8),(54,2,'0801199787699','GENESIS','','MEJIA','','88874543','COL. ROSALES','2001-10-05','2019-01-01','12345678087',2,6,1,'genesis@gamil.com',8),(55,2,'0801200150176','ANNDY','','AGURCIA','','98881858','COL. ROSALES','2001-11-16','2018-07-22','123456721212',1,22,1,'anddy@gmail.com',8),(56,2,'0801200134678','ROSSANGEL','','DIAZ','','88888888','COL. ROSALES','2001-12-05','2018-07-22','123456700000',2,5,1,'ross@gamil.com',8),(57,2,'1807199734567','LUIS','','PONCE','','99863456','COL. ROSALES','2001-12-05','2016-11-22','12345674567',1,4,1,'luid@gamil.com',8),(58,2,'1807200130202','DAYANA','VANESSA','REYES','ANTUNEZ','33802030','COL. ROSALES','2001-06-29','2018-10-22','12345678123',2,14,1,'nana@gmail.com',8),(59,2,'0801200220175','CECILIA','','ANDINO','','99919191','COL. ROSALES','2001-12-13','2022-07-22','45645678912',2,11,1,'ceci@gmail.com',8),(60,2,'0801200112345','STEPHANY','','SANCHEZ','','99999997','COL. ROSALES','2001-12-14','2018-11-22','123456712345',2,12,1,'step@gamil.com',8),(61,2,'0801199820195','JANCY','','ZUÑIGA','','88768060','COL. ROSALES','2001-12-13','2016-07-22','123456710112',2,7,1,'jancy@gamil.com',8),(62,2,'0801200220456','FERNANDO','','GARCIA','','88564532','COL. ROSALES','2001-12-15','2019-10-22','12345678914',1,27,1,'karen5@gamil.com',8),(63,2,'1807199823456','CRISTOPHER','','URBINA','','98765431','COL. ROSALES','2001-12-05','2020-06-22','12345123468',1,18,1,'lilu20@gmail.com',8),(64,2,'0801200123567','GILBERTO','','CHAVEZ','','87865432','COL. ROSALES','2001-12-09','2017-06-22','8987654321',1,7,1,'gil@gmail.com',7),(65,2,'0801199733456','ITZEL','','HOCH','','87654230','COL. ROSALES','2001-12-06','2022-07-22','76789126542',2,5,1,'iti@gmail.com',8),(66,2,'0801200160176','NATHALIE','','QUESADA','','88765432','COL. ROSALES','2001-12-05','2022-07-22','1234567891000',2,7,1,'nath@gmail.com',11),(67,2,'0801200160177','ISABELLA','','SUAREZ','','98765422','COL. ROSALES','2001-12-22','2014-07-22','7654326892',2,2,1,'isa@gamil.com',7),(68,2,'0801200160178','JULIETA','','JULL','','88765097','COL. ROSALES','2001-11-21','2014-06-22','567432175',2,2,1,'jullyjull@gmail.com',8),(69,2,'0801200160112','AURORA','','SOLANO','','81808987','COL. ROSALES','1999-10-05','2014-10-22','80962674855',2,4,1,'aurora@gmail.com',7),(70,2,'0801200160113','ARMANDO','','MENDOZA','','80151515','COL. ROSALES','2001-12-14','2022-07-22','98612346899',1,7,1,'armani@gmail.com',13),(71,2,'0801200160114','MARCELA','','VALENCIA','','30202020','COL. ROSALES','1999-01-31','2014-07-22','9999999999',2,19,1,'marce@gmail.com',13),(72,2,'0801200160115','PATRICIA','','FERNANDEZ','','31313131','COL. ROSALES','1999-10-31','2020-06-22','2222222121',2,12,1,'patsy@gmail.com',13),(73,2,'0801200160116','SANDRA','','PATIÑO','','89912345','COL. ROSALES','1999-07-31','2022-07-22','11111112111112',2,16,1,'sandra@gmail.com',13),(74,2,'0801200120117','AURA','MARIA','FUENTES','','98877777','COL. ROSALES','1999-06-12','2016-07-27','199999999999999',2,3,1,'aura@gmail.com',13),(75,2,'0801200120120','SOFIA','','RODRIGUEZ','','88111111','COL. ROSALES','1999-07-31','2018-11-22','766666666666',2,4,1,'sof@gmail.com',7),(76,2,'0801200160121','FREDDY','','CONTRERAS','','99999911','COL. ROSALES','2001-12-21','2019-10-22','566666666666666',1,1,1,'freddy@gmail.com',7),(77,2,'0801200160179','MARIANA','','VALDEZ','','33333333','COL. ROSALES','2001-12-21','2018-06-21','144444444444444',2,22,1,'mar@gmail.com',13),(78,2,'0801200160120','BERTHA','','GONZALES','','87777711','COL. ROSALES','1999-06-25','2017-06-22','200000000000000',2,24,1,'bert0@gmail.com',9),(79,2,'0801200160176','INES','','LAINEZ','','99861111','COL. ROSALES','2001-12-06','2022-07-21','800000000000000',2,17,1,'ines@gmail.com',7),(80,2,'0801200160134','KIDIA','','VARGAS','','96666666','COL. ROSALES','2001-12-15','2022-07-13','3439034444444',2,9,1,'kiki@gmail.com',11),(81,2,'0801200160167','ASTRID','','ROSALES','','88844444','COL. ROSALES','1999-10-12','2019-06-22','677777777777777',2,5,1,'abi@gmail.com',9),(82,2,'0801200120177','ELIAS','','SIERRA','','88890000','COL. ROSALES','2001-11-15','2020-10-21','644444444444444',1,17,1,'elias30@gmail.com',7),(83,2,'0801200120076','ALEJANDRA','','CRUZ','','88777777','COL. ROSALES','1996-08-02','2018-12-22','555555555555555',2,4,1,'yaquelin20@gmail.com',7),(85,2,'0801200120595','MARIA','','YUNEZ','','30404040','COL. ROSALES','2001-12-21','2022-07-22','12345678914567',2,3,1,'yuyu@gmail.com',7),(86,2,'0801200112340','SUANNY','NICOLLE','SALINAS','','91919191','COL. ROSALES','2001-12-21','2005-06-17','300000000000000',2,22,1,'foncha20@gmail.com',9),(87,2,'0801200109865','CARMELIA','','GOMEZ','','97777777','COL. ROSALES','2001-12-13','2022-07-22','9087654321',2,6,1,'car@gmail.com',8),(88,2,'0801200188888','ILSE','','ROMERO','','34546963','COL. ROSALES','2001-12-12','2022-07-22','151515151515',2,22,1,'pau20@gmail.com',11),(89,2,'0801200111111','HECTOR','','PORTILLO','','99992399','COL. ROSALES','2001-12-15','2022-07-22','777777777777777',1,1,1,'hector4@gamil.com',11),(90,2,'0801200199999','AMILCAR','','CANALES','','81111111','COL. ROSALES','2001-12-14','2020-06-24','722222222222222',1,6,1,'amilcar@gamil.com',11),(91,2,'0801200133333','IMANOL','','DUEÑAS','','99111111','COL. ROSALES','2001-12-14','2020-07-24','711111111111111',1,17,1,'imanol@gamil.com',9),(92,2,'0801200178777','MARIO','','PEREZ','','99139499','COL. ROSALES','2001-12-19','2021-06-25','666666666666666',2,5,1,'mario@gamil.com',9),(93,2,'0801200166777','CLARISSA','','PONCE','','99867988','COL. ROSALES','2001-12-13','2022-01-22','400000000000000',2,4,1,'clari@gamil.com',10),(94,2,'0801200162344','VICTORIA','','SALGADO','','88874540','COL. ROSALES','2001-12-13','2016-06-22','377777777777777',2,23,1,'vicky@gamil.com',1),(95,2,'0801200186666','JOSE','MARIO','SALGADO','','88122222','COL. ROSALES','2001-12-14','2019-11-22','123456782890022',1,1,1,'josalgado@gamil.com',9),(96,2,'0801200155555','GLORIA','MARIA','TEJEDA','','22222222','COL. ROSALES','2001-12-13','2021-07-22','123456444444444',2,4,1,'gloma@gamil.com',10),(97,2,'0801200144444','ISAIAS','','NORENO','','88875555','COL. ROSALES','2001-12-14','2022-07-22','633333333333333',1,7,1,'more@gamil.com',13),(98,2,'0801200200000','LUISA ','','CALERO','','88888899','COL. ROSALES','2001-12-20','2018-07-05','543211111111111',2,23,1,'calero@gamil.com',5),(99,2,'0801200000000','FABIAN','','GONZALES','CARCAMO','88874534','COL. ROSALES','2000-12-22','2017-06-15','322222222222222',1,17,2,'fab@gamil.com',5),(100,2,'0801200134444','CAMILA','','CABELLO','','99555555','COL. ROSALES','2001-12-21','2022-07-22','120000000000000',2,19,1,'cami@gamil.com',5),(102,2,'0801200070176','JAVIER','','HERNANDEZ','VELIZ','88874534','COL. ROSALES','2001-12-06','2020-06-22','598444444444444',1,5,1,'javi@gamil.com',10),(103,1,'0801200245678','EDITH','GUADALUPE','FIEGUROA','TOLEDO','96482561','OLANCHO CITY','2001-09-07','2022-07-27','45971256',2,8,1,'ejemplo9@gmail.com',12),(104,1,'0601200000109','JONNY','ALEXANDER','GIRON','GUTIERREZ','31256484','KENNEDY CITY','1999-04-26','2022-07-27','51648642',1,9,1,'ejemplo9@gmail.com',1),(105,1,'0801199864852','JUAN','FERNANDO','VILLATORO','GIRON','98065481','VILLAS DEL SOL','1998-09-28','2022-07-27','8416186186',1,23,1,'ejemplo10@gmail.com',1);
/*!40000 ALTER TABLE `empleados` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `empresas`
--

DROP TABLE IF EXISTS `empresas`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `empresas` (
  `idEmpresa` int NOT NULL AUTO_INCREMENT,
  `Nombre` varchar(45) NOT NULL,
  `Estados_idEstado` int NOT NULL,
  PRIMARY KEY (`idEmpresa`)
) ENGINE=InnoDB AUTO_INCREMENT=28 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `empresas`
--

LOCK TABLES `empresas` WRITE;
/*!40000 ALTER TABLE `empresas` DISABLE KEYS */;
INSERT INTO `empresas` VALUES (1,'DULCES WILLY WONKA',1),(2,'ARMAS COD',1);
/*!40000 ALTER TABLE `empresas` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `estados`
--

DROP TABLE IF EXISTS `estados`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `estados` (
  `idEstado` int NOT NULL AUTO_INCREMENT,
  `DescripcionEsstado` varchar(45) NOT NULL,
  PRIMARY KEY (`idEstado`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `estados`
--

LOCK TABLES `estados` WRITE;
/*!40000 ALTER TABLE `estados` DISABLE KEYS */;
INSERT INTO `estados` VALUES (1,'ACTIVO'),(2,'INACTIVO');
/*!40000 ALTER TABLE `estados` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `planillas`
--

DROP TABLE IF EXISTS `planillas`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `planillas` (
  `idPlanillas` int NOT NULL AUTO_INCREMENT,
  `NumeroPlanilla` varchar(50) DEFAULT NULL,
  `Empresas_idEmpresas` int NOT NULL,
  `FechaInicio` datetime NOT NULL,
  `FechaFin` datetime NOT NULL,
  PRIMARY KEY (`idPlanillas`)
) ENGINE=InnoDB AUTO_INCREMENT=68 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `planillas`
--

LOCK TABLES `planillas` WRITE;
/*!40000 ALTER TABLE `planillas` DISABLE KEYS */;
INSERT INTO `planillas` VALUES (66,'20220629202207292',2,'2022-06-30 00:00:00','2022-07-23 00:00:00'),(67,'20220707202208062',2,'2022-07-08 00:00:00','2022-08-06 00:00:00');
/*!40000 ALTER TABLE `planillas` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `registros`
--

DROP TABLE IF EXISTS `registros`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `registros` (
  `id` int NOT NULL AUTO_INCREMENT,
  `id_Planilla` int NOT NULL,
  `Nombre_Planilla` varchar(75) NOT NULL,
  `url` varchar(75) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `fk_Registros_planillas` (`id_Planilla`),
  CONSTRAINT `fk_Registros_planillas` FOREIGN KEY (`id_Planilla`) REFERENCES `planillas` (`idPlanillas`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `registros`
--

LOCK TABLES `registros` WRITE;
/*!40000 ALTER TABLE `registros` DISABLE KEYS */;
INSERT INTO `registros` VALUES (1,67,'','');
/*!40000 ALTER TABLE `registros` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `sexos`
--

DROP TABLE IF EXISTS `sexos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `sexos` (
  `idSexo` int NOT NULL AUTO_INCREMENT,
  `DescripcionSexo` varchar(45) NOT NULL,
  PRIMARY KEY (`idSexo`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `sexos`
--

LOCK TABLES `sexos` WRITE;
/*!40000 ALTER TABLE `sexos` DISABLE KEYS */;
INSERT INTO `sexos` VALUES (1,'MASCULINO'),(2,'FEMENINO');
/*!40000 ALTER TABLE `sexos` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tablas`
--

DROP TABLE IF EXISTS `tablas`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `tablas` (
  `idTabla` int NOT NULL AUTO_INCREMENT,
  `nombreTabla` varchar(45) NOT NULL,
  PRIMARY KEY (`idTabla`)
) ENGINE=InnoDB AUTO_INCREMENT=28 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tablas`
--

LOCK TABLES `tablas` WRITE;
/*!40000 ALTER TABLE `tablas` DISABLE KEYS */;
INSERT INTO `tablas` VALUES (1,'bitacora'),(2,'cargos'),(3,'ciudades'),(4,'departamentos'),(5,'detalleplanillas'),(6,'empleados'),(7,'empresas'),(8,'estados'),(9,'planillas'),(10,'registros'),(11,'sexos'),(12,'tablas'),(13,'usuarios');
/*!40000 ALTER TABLE `tablas` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `usuarios`
--

DROP TABLE IF EXISTS `usuarios`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `usuarios` (
  `idUsuario` int NOT NULL AUTO_INCREMENT,
  `Usuario` varchar(45) NOT NULL,
  `Contrasenia` varchar(45) NOT NULL,
  `Empleados_idEmpleados` int NOT NULL,
  `Empresas_idEmpresas` int NOT NULL,
  `Estados_idEstado` int NOT NULL,
  PRIMARY KEY (`idUsuario`),
  UNIQUE KEY `Empleados_idEmpleados_UNIQUE` (`Empleados_idEmpleados`),
  KEY `fk_Usuarios_Empresas` (`Empresas_idEmpresas`),
  CONSTRAINT `fk_Usuarios_Empleados1` FOREIGN KEY (`Empleados_idEmpleados`) REFERENCES `empleados` (`idEmpleados`),
  CONSTRAINT `fk_Usuarios_Empresas` FOREIGN KEY (`Empresas_idEmpresas`) REFERENCES `empresas` (`idEmpresa`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `usuarios`
--

LOCK TABLES `usuarios` WRITE;
/*!40000 ALTER TABLE `usuarios` DISABLE KEYS */;
INSERT INTO `usuarios` VALUES (1,'OJAO','34e59dad2b30ac27a3a3d1f12cd17b24',1,1,1),(2,'EFZR','f0df1c72013be81ea26d7ddc1f31578a',7,1,1),(3,'DJGM','5e96854d2575b403b3926c90438b76d4',9,1,1),(4,'DYCS','381e7667ed77207ac390559d1a53491b',10,2,1),(5,'DIMF','ce9aafe84ea8c5dc017a34a35c16ff17',11,2,1),(6,'EGFT','09b181faadb2232b5c26c9934fece7dc',103,1,1),(7,'JAGG','3e8aea18bfcef8ba81be0a2436da98c0',104,1,1),(9,'JFVG','8b311045685c7f4f78498e562f7cc7c8',105,1,1);
/*!40000 ALTER TABLE `usuarios` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping events for database 'sistema_planilla'
--

--
-- Dumping routines for database 'sistema_planilla'
--
/*!50003 DROP PROCEDURE IF EXISTS `plan_det` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'NO_AUTO_VALUE_ON_ZERO' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `plan_det`(`planX` VARCHAR(50), `emp` INT, `fecha` DATETIME)
Begin
	DECLARE x int default 0;
	DECLARE i int default 1;
	DECLARE j int default 0;
	DECLARE ID int default 0;
	DECLARE IngresoAnual DEC (10, 2) default 0.0;
	DECLARE ihss DEC (10, 2) default 0.0;
	DECLARE rap DEC (10, 2) default 0.0;
	DECLARE salary DEC (10, 2) default 0.0;
	DECLARE netSalary DEC (10, 2) default 0.0;
	DECLARE isr DEC (10, 2) default 0.0;
	DECLARE dedTot DEC (10, 2) default 0.0;
	DECLARE bonTot DEC (10, 2) default 0.0;
	DECLARE catorciavo DEC (10, 2) default 0.0;
	DECLARE treciavo DEC (10, 2) default 0.0;
	DECLARE FechaIngreso int default 0;
	DECLARE FechaPlanilla int default 0;
	SET x = (
			SELECT COUNT(*)
			FROM sistema_planilla.empleados
			where Empresas_idEmpresas = emp
				and empleados.Estados_idEstado = 1
		);
	while i <= x DO #Obtencion de Datos
	set salary = (
			SELECT Salario
			FROM sistema_planilla.empleados
				inner join sistema_planilla.cargos on sistema_planilla.cargos.idCargo = sistema_planilla.empleados.Cargos_idCargos
			where Empresas_idEmpresas = emp
				and empleados.Estados_idEstado = 1
			order by idEmpleados
			LIMIT j, 1
		);
	set ID = (
			SELECT idEmpleados
			FROM sistema_planilla.empleados
				inner join sistema_planilla.cargos on sistema_planilla.cargos.idCargo = sistema_planilla.empleados.Cargos_idCargos
			where Empresas_idEmpresas = emp
				and empleados.Estados_idEstado = 1
			order by idEmpleados
			LIMIT j, 1
		);
	set FechaIngreso = (
			SELECT TIMESTAMPDIFF(month, empleados.FechaIngreso, fecha)
			FROM sistema_planilla.empleados
			where Empresas_idEmpresas = emp
				and empleados.Estados_idEstado = 1
			order by idEmpleados
			LIMIT j, 1
		);
	set FechaPlanilla = (
			SELECT month(FechaInicio)
			FROM sistema_planilla.planillas
			where idPlanillas = planX
		);
	#Calculo de Datos independiente
	#Calculo de IHSS Seguro De prevision Social
	IF salary <= 9849.70 then
	set ihss = (salary * 0.025) * 2;
	else
	set ihss = (9849.70 * 0.025) * 2;
	end if;
	#Calculo de RAP Seguro De prevision 
	set rap = salary * 0.015;
	#Calculo de Impuesto sobre la renta
	set IngresoAnual = (salary * 12) - ((rap * 12) + (ihss * 12));
	if IngresoAnual > 642817.64 then
	set isr = (
			((276411.57 - 181274.56) * 0.15) + ((642817.64 - 276411.57) * 0.20) + ((IngresoAnual - 642817.64) * 0.25)
		) / 12;
	elseif IngresoAnual > 276411.58
	AND IngresoAnual < 642817.64 then
	set isr = (
			((276411.57 - 181274.56) * 0.15) + ((IngresoAnual - 276411.58) * 0.20)
		) / 12;
	elseif IngresoAnual > 181274.57
	AND IngresoAnual < 276411.58 then
	set isr = ((IngresoAnual - 181274.57) * 0.15) / 12;
	else
	set isr = 0;
	end if;
	#Calculo de Deduccion Total
	set dedTot = isr + rap + ihss;
	set netSalary = salary - dedTot;
	IF FechaIngreso >= 2 THEN IF FechaPlanilla = 6 THEN
	set treciavo = salary + netSalary;
	elseif FechaPlanilla = 12 THEN
	set catorciavo = salary + netSalary;
	END IF;
	else
	set treciavo = 0;
	set catorciavo = 0;
	end if;
	set bonTot = catorciavo + treciavo;
	set i = i + 1;
	set j = j + 1;
	insert into `detalleplanillas`
	values (
			planX,
			ID,
			salary,
			ihss,
			rap,
			isr,
			dedTot,
			catorciavo,
			treciavo,
			bonTot,
			netSalary
		);
	end while;
	SET i = 0;
End ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2022-07-27 14:03:24
